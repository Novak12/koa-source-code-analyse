# 代码示例
在引入koa并执行项目监听时，都会执行以下代码：
```javascript
const koa = require('koa');
const app=new koa();

app.use((ctx,next)=>{
    ctx.body='电影首页';
})
app.listen(3000);
```
在上面的代码中，koa做了三个主要动作：koa实例化，执行use方法和listen方法。代码如此简洁，但是内部的逻辑肯定不会简单。
# koa初始化
首先看看koa的构造函数的内容：
```javascript
constructor() {
    super();

    this.proxy = false;
    this.middleware = [];
    this.subdomainOffset = 2;
    this.env = process.env.NODE_ENV || 'development';
    this.context = Object.create(context);
    this.request = Object.create(request);
    this.response = Object.create(response);
    if (util.inspect.custom) {
      this[util.inspect.custom] = this.inspect;
    }
  }
```
在构造函数中，主要是对属性初始化，如proxy,中间件，环境变量等
